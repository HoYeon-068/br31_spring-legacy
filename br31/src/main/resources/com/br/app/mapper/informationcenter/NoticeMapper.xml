<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.br.app.mapper.informationcenter.NoticeMapper">

  <!-- 공지사항 목록 (ROWNUM 페이징) -->
  <select id="selectList"
          resultType="com.br.app.domain.informationcenter.NoticeDTO">
    SELECT *
    FROM (
      SELECT ROWNUM rn, n.*
      FROM (
        SELECT NOTICE_ID,
               NOTICE_NO,
               TITLE,
               REG_DATE
        FROM NOTICE
        ORDER BY REG_DATE DESC
      ) n
    )
    WHERE rn BETWEEN #{startRow} AND #{endRow}
  </select>

  <!-- 전체 건수 -->
  <select id="getTotalCount" resultType="int">
    SELECT COUNT(*)
    FROM NOTICE
  </select>

  <!-- 공지사항 상세 -->
  <select id="selectOne"
          resultType="com.br.app.domain.informationcenter.NoticeDTO">
    SELECT NOTICE_ID,
           NOTICE_NO,
           TITLE,
           CONTENT,
           REG_DATE
    FROM NOTICE
    WHERE NOTICE_ID = #{noticeId}
  </select>

</mapper>
